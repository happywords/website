<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width" />
        <title>Happy Words</title>
        <link rel="stylesheet" href="styles.css" type="text/css" media="screen" />
    </head>
    <body>
        <div class="container">
            <h1>Happy Words</h1>
            <div class="items">
            </div>

            <template id="item-template">
                <div class="item">
                    <div class="text">
                        <p>
                            Lorem ipsum dolor sit amet, consetetur sadipscing
                            elitr, sed diam nonumy eirmod tempor invidunt ut
                            labore et dolore magna aliquyam erat, sed diam
                            voluptua. At vero eos et accusam et justo duo
                            dolores et ea rebum. Stet clita kasd gubergren,
                            no sea takimata sanctus est Lorem ipsum dolor.
                        </p>
                    </div>
                    <div class="source">
                        Lorem ipsum, pag 12
                    </div>
                    <div class="tags">
                    </div>
                </div>
            </template>
        </div>

        <script charset="utf-8">
            var quotes = [
                {
                    text: "asdasd asdasd asdasdasd asdasd1",
                    source: "source 111",
                    tags: ["123", "18767"]
                },
                {
                    text: "asdasd asdasd asdasdasd asdasd2222",
                    source: "source 222",
                    tags: ["22223", "22228767", "asdasd"]
                },
                {
                    text: "asdasd asdasd asdasdasd asdasd333",
                    source: "source 333",
                    tags: ["33323", "3338767"]
                },
            ];

            function render_quote(text, source, tags) {
                var item_template = document.getElementById("item-template").content;

                var clone = document.importNode(item_template, true);
                clone.querySelector("div.text").textContent = text;
                clone.querySelector("div.source").textContent = source;

                const tags_container = clone.querySelector("div.tags");
                tags.forEach(tag => {
                    const tag_element = document.createElement('a');
                    tag_element.textContent = tag;
                    tag_element.href = "#"
                    tags_container.appendChild(tag_element);
                });

                return clone;
            }

            function update_content(quotes) {
                var items_container = document.querySelector("div.items");
                items_container.innerHTML = "";

                quotes.forEach(quote => {
                    items_container.appendChild(render_quote(quote.text, quote.source, quote.tags));
                })
            }

            if ('content' in document.createElement('template')) {
                update_content(quotes);
            } else {
                console.log("template feature missing.");
            }
        </script>
    </body>
</html>
